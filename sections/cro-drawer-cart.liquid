<!-- CRO Cart DRAWER -->
{%- unless template contains 'cart' -%}
    <!-- CRO NOT Cart PAGE -->
    {%- liquid 
      assign sessionTag = 'cro-drawer-cart-data'  
    -%}
    <script>
      window.sessionStorage.setItem('{{ sessionTag }}', JSON.stringify({{ cart | json }}));
    </script>
    <slt010-cart-drawer-block id="{{ section.id }}-block" data-opened="false">
        <slt010-cart-drawer-container>
            <slt010-cart-drawer>
              {%- render 'cro-drawer-cart-layout', section: section -%}
            </slt010-cart-drawer>
        </slt010-cart-drawer-container>
    </slt010-cart-drawer-block>
    {%- render 'cro-drawer-cart-styles', section: section -%}
    {%- render 'cro-drawer-cart-custom-html-elements', section: section, sessionTag: sessionTag -%}
    {%- render 'cro-drawer-cart-js', section: section, sessionTag: sessionTag -%}
{%- endunless -%}

{% schema %}
  {
    "name": "Cart Drawer",
    "settings": [
    ],
    "limit": 1,
    "blocks":[
      {
        "type":"header",
        "name": "Header",
        "limit": 1,
        "settings":[
          {
            "type":"text",
            "id":"title",
            "label":"Title",
            "default":"YOUR CART"
          }
        ]
      },
      {
        "type":"progress-bar",
        "name": "Progress Bar",
        "limit": 1,
        "settings":[
          {
              "type": "number",
              "id": "min",
              "label": "Free shipping threshold:",
              "default": 75
          },
          {
              "type": "header",
              "content": "Messages:"
          },
          {
              "type": "inline_richtext",
              "id": "msg-default",
              "label": "Default:",
              "default": "Free Shipping on orders over ${amount}!",
              "info": "Use {amount} to place where the threshold amount should be placed in your text. Example: Free Shipping on orders over ${amount}!"
          },
          {
              "type": "inline_richtext",
              "id": "msg-below",
              "label": "In progress:",
              "default": "You are ${amount} away from <strong>FREE SHIPPING</strong>",
              "info": "Use {amount} to place where the customer current amount should be placed in your text. Example: You are ${amount} away from FREE SHIPPING"
          },
          {
              "type": "inline_richtext",
              "id": "msg-complete",
              "label": "Success:",
              "default": "Free Shipping Unlocked!",
              "info": "Example: Free Shipping Unlocked!"
          }
        ]
      },
      {
        "type":"countdown",
        "name": "Countdown",
        "limit": 1,
        "settings":[]
      },
      {
        "type":"body",
        "name": "Body",
        "limit": 1,
        "settings":[
          {
            "type":"header",
            "content":"Empty cart settings"
          },
          {
            "type":"text",
            "id":"title-empty",
            "label":"Title",
            "default":"Welcome to Saalt!"
          },
          {
            "type":"textarea",
            "id":"content-empty",
            "label":"Content",
            "default":"Your cart is empty"
          },
          {
            "type":"header",
            "content":"Upsell settings"
          }
        ]
      },
      {
        "type":"footer",
        "name": "Footer",
        "limit": 1,
        "settings":[]
      },
      {
        "type":"message",
        "name": "Message",
        "limit": 1,
        "settings":[]
      }
    ],
    "presets": [
      {
        "category": "Footer",
        "name": "CRO Cart Drawer",
        "settings":{},
        "blocks":[
          {
            "type":"header",
            "settings": {
                "title": "YOUR CART"
            }
          },
          {
            "type":"progress-bar",
            "settings":{
              "min":75,
              "msg-default":"Free Shipping on orders over ${amount}!",
              "msg-below": "You are ${amount} away from <strong>FREE SHIPPING</strong>",
              "msg-complete":"Free Shipping Unlocked!"
            }
          },
          {
            "type":"countdown"
          },
          {
            "type":"body",
            "settings":{
              "title-empty":"Welcome to Saalt!",
              "content-empty":"Your cart is empty"
            }
          },
          {
            "type":"footer"
          }
        ]
      }
    ],
    "enabled_on": {
      "groups": ["footer"]
    }
  }
{% endschema %}