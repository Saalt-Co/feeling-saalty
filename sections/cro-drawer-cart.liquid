<!-- CRO Cart DRAWER -->
{%- unless template contains 'cart' -%}
    <!-- CRO NOT Cart PAGE -->
    {%- liquid 
      assign sessionTag = 'cro-drawer-cart-data'  
    -%}
    <script>
      window.sessionStorage.setItem('{{ sessionTag }}', JSON.stringify({{ cart | json }}));
    </script>
    <slt010-cart-drawer-block id="{{ section.id }}-block" data-opened="false">
        <slt010-cart-drawer-container>
            <slt010-cart-drawer>
              {%- render 'cro-drawer-cart-layout', section: section -%}
            </slt010-cart-drawer>
        </slt010-cart-drawer-container>
    </slt010-cart-drawer-block>
    {%- render 'cro-drawer-cart-styles', section: section -%}
    {%- render 'cro-drawer-cart-custom-html-elements', section: section, sessionTag: sessionTag -%}
    {%- render 'cro-drawer-cart-js', section: section, sessionTag: sessionTag -%}
{%- endunless -%}

{% schema %}
  {
    "name": "Cart Drawer",
    "settings": [
    ],
    "limit": 1,
    "blocks":[
      {
        "type":"header",
        "name": "Header",
        "limit": 1,
        "settings":[
          {
            "type":"text",
            "id":"title",
            "label":"Title",
            "default":"YOUR CART"
          }
        ]
      },
      {
        "type":"progress-bar",
        "name": "Progress Bar",
        "limit": 1,
        "settings":[
          {
              "type": "number",
              "id": "min",
              "label": "Free shipping threshold:",
              "default": 75
          },
          {
              "type": "header",
              "content": "Messages:"
          },
          {
              "type": "inline_richtext",
              "id": "msg-default",
              "label": "Default:",
              "default": "Free Shipping on orders over ${amount}!",
              "info": "Use {amount} to place where the threshold amount should be placed in your text. Example: Free Shipping on orders over ${amount}!"
          },
          {
              "type": "inline_richtext",
              "id": "msg-below",
              "label": "In progress:",
              "default": "You are ${amount} away from <strong>FREE SHIPPING</strong>",
              "info": "Use {amount} to place where the customer current amount should be placed in your text. Example: You are ${amount} away from FREE SHIPPING"
          },
          {
              "type": "inline_richtext",
              "id": "msg-complete",
              "label": "Success:",
              "default": "Free Shipping Unlocked!",
              "info": "Example: Free Shipping Unlocked!"
          }
        ]
      },
      {
        "type":"countdown",
        "name": "Countdown",
        "limit": 1,
        "settings":[
          {
            "type":"range",
            "id":"time",
            "label":"Time",
            "default":8,
            "min":1,
            "max":30,
            "step":1,
            "info":"in minutes"
          },
          {
            "type":"text",
            "id":"headline",
            "label":"Headline",
            "default":"LIMITED STOCK!"
          },
          {
            "type":"text",
            "id":"msg",
            "label":"Message",
            "default":"We've saved your cart for",
            "info":"Message before the time countdown.  Example: We've saved your cart for 8:00"
          }
        ]
      },
      {
        "type":"body",
        "name": "Body",
        "limit": 1,
        "settings":[
          {
            "type":"header",
            "content":"Empty cart settings"
          },
          {
            "type":"text",
            "id":"title-empty",
            "label":"headline",
            "default":"Welcome to Saalt!"
          },
          {
            "type":"textarea",
            "id":"content-empty",
            "label":"Content",
            "default":"Your cart is empty"
          },
          {
            "type":"header",
            "content":"Upsell settings"
          },
          {
            "type":"checkbox",
            "id":"active-upsell",
            "label":"Add upsell section",
            "default":false
          },
          {
            "type":"text",
            "id":"title-upsell",
            "label":"Headline",
            "default":"Have you tried these yet?"
          },
          {
            "type":"collection",
            "id":"upsell-collection",
            "label":"Select a collection"
          },
          {
            "type":"range",
            "id":"display",
            "label":"How many upsell items to display",
            "min":1,
            "max":10,
            "step":1,
            "default":6
          },
          {
            "type":"select",
            "id":"desktop-pre-row",
            "label":"Products pre row (desktop)",
            "options":[
              {
                "label":"1",
                "value":"1"
              },
              {
                "label":"2",
                "value":"2"
              },
              {
                "label":"3",
                "value":"3"
              }
            ],
            "default":"3"
          },
          {
            "type":"select",
            "id":"mobile-pre-row",
            "label":"Products pre row (mobile)",
            "options":[
              {
                "label":"1",
                "value":"1"
              },
              {
                "label":"2",
                "value":"2"
              }
            ],
            "default":"2"
          }
        ]
      },
      {
        "type":"footer",
        "name": "Footer",
        "limit": 1,
        "settings":[]
      },
      {
        "type":"message",
        "name": "Message",
        "limit": 1,
        "settings":[
          {
            "type":"inline_richtext",
            "id":"msg-banner",
            "label":"Message",
            "default":"Save automatically when you bundle Cups, Discs, or Underwear. Save 15% for 3+ items. Save 20% for 5+ items. Save 25% for 7+ items."
          },
          {
            "type":"color",
            "id":"bg-color",
            "label":"Background color",
            "default":"#eee",
            "info":"default color: #eee"
          },
          {
            "type":"range",
            "id":"font-size",
            "label":"Font size",
            "min":9,
            "max":25,
            "step":1,
            "default": 13,
            "unit":"px",
            "info":"default size: 13px"
          },
          {
            "type":"color",
            "id":"font-color",
            "label":"Font color",
            "default":"#232323",
            "info":"default color: #232323"
          }
        ]
      }
    ],
    "presets": [
      {
        "category": "Footer",
        "name": "CRO Cart Drawer",
        "settings":{},
        "blocks":[
          {
            "type":"header",
            "settings": {
                "title": "YOUR CART"
            }
          },
          {
            "type":"progress-bar",
            "settings":{
              "min":75,
              "msg-default":"Free Shipping on orders over ${amount}!",
              "msg-below": "You are ${amount} away from <strong>FREE SHIPPING</strong>",
              "msg-complete":"Free Shipping Unlocked!"
            }
          },
          {
            "type":"countdown",
            "settings":{
              "time":8,
              "headline":"LIMITED STOCK!",
              "msg":"We've saved your cart for"
            }
          },
          {
            "type":"body",
            "settings":{
              "title-empty":"Welcome to Saalt!",
              "content-empty":"Your cart is empty",
              "title-upsell":"Have you tried these yet?"
            }
          },
          {
            "type":"footer"
          }
        ]
      }
    ],
    "enabled_on": {
      "groups": ["footer"]
    }
  }
{% endschema %}