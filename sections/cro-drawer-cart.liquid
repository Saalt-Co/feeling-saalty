<!-- CRO Cart DRAWER -->
{%- unless template contains 'cart' -%}
    <!-- CRO NOT Cart PAGE -->
    {%- liquid 
      assign sessionTag = 'cro-drawer-cart-data'  
    -%}
    <script>
      window.sessionStorage.setItem('{{ sessionTag }}', JSON.stringify({{ cart | json }}));
    </script>
    <slt010-cart-drawer-block id="{{ section.id }}-block" data-opened="false">
        <slt010-cart-drawer-container>
            <slt010-cart-drawer>
              {%- render 'cro-drawer-cart-layout', section: section -%}
            </slt010-cart-drawer>
        </slt010-cart-drawer-container>
    </slt010-cart-drawer-block>
    {%- render 'cro-drawer-cart-styles', section: section -%}
    {%- render 'cro-drawer-cart-custom-html-elements', section: section, sessionTag: sessionTag -%}
    {%- render 'cro-drawer-cart-js', section: section, sessionTag: sessionTag -%}
{%- endunless -%}

{% schema %}
  {
    "name": "Cart Drawer",
    "settings": [
      {
        "type":"textarea",
        "id":"hide-elements",
        "label":"Hide elements that are covering the cart drawer.",
        "info":"Example would be the chat button. Just add CSS selectors of elements that you want hide behind the cart drawer.  Note: use a comma for multiple CSS selectors."
      },
      {
        "type":"checkbox",
        "id":"test-mode",
        "label":"Active test mode",
        "default":true,
        "info":"In test mode on user with the \"test-mode=true\" appended to the URL will be able to view the cart drawer.  Example: https://saalt.com/?test-mode=true Note: you are in test mode until the browser is closed."
      }
    ],
    "limit": 1,
    "blocks":[
      {
        "type":"header",
        "name": "Header",
        "limit": 1,
        "settings":[
          {
            "type":"text",
            "id":"title",
            "label":"Title",
            "default":"YOUR CART"
          },
          {
            "type":"color",
            "id":"bg-color",
            "label":"Background color",
            "default":"#fff",
            "info":"default color: #fff"
          },
          {
            "type":"range",
            "id":"font-size",
            "label":"Font size (desktop)",
            "min":9,
            "max":45,
            "step":1,
            "default": 30,
            "unit":"px",
            "info":"default size: 30px"
          },
          {
            "type":"range",
            "id":"font-size-mobile",
            "label":"Font size (mobile)",
            "min":9,
            "max":45,
            "step":1,
            "default": 14,
            "unit":"px",
            "info":"default size: 14px"
          },
          {
            "type":"color",
            "id":"font-color",
            "label":"Font color",
            "default":"#232323",
            "info":"default color: #232323"
          }
        ]
      },
      {
        "type":"progress-bar",
        "name": "Progress Bar",
        "limit": 1,
        "settings":[
          {
              "type": "number",
              "id": "min",
              "label": "Free shipping threshold:",
              "default": 75
          },
          {
              "type": "header",
              "content": "Messages:"
          },
          {
              "type": "inline_richtext",
              "id": "msg-default",
              "label": "Default:",
              "default": "Free Shipping on orders over {$}{amount}!",
              "info": "Use {amount} to place where the threshold amount should be placed in your text and use {$} display the user correct currency. Example: Free Shipping on orders over {$}{amount}!"
          },
          {
              "type": "inline_richtext",
              "id": "msg-below",
              "label": "In progress:",
              "default": "You are ${amount} away from <strong>FREE SHIPPING</strong>",
              "info": "Use {amount} to place where the customer current amount should be placed in your text. Example: You are ${amount} away from FREE SHIPPING"
          },
          {
              "type": "inline_richtext",
              "id": "msg-complete",
              "label": "Success:",
              "default": "Free Shipping Unlocked!",
              "info": "Example: Free Shipping Unlocked!"
          },
          {
            "type":"select",
            "id":"position",
            "label":"Bar position",
            "options":[
              {
                "label":"Above",
                "value":"above"
              },
              {
                "label":"Below",
                "value":"below"
              }
            ],
            "default":"above"
          },
          {
            "type":"color",
            "id":"bg-color",
            "label":"Background color",
            "default":"#fff",
            "info":"Default background color #fff"
          },
          {
            "type":"color",
            "id":"bar-bg-color",
            "label":"Track color",
            "default":"#eee",
            "info":"Default progress track color #eee"
          },
          {
            "type":"color",
            "id":"bar-color",
            "label":"Bar color",
            "default":"#f7d6c5",
            "info":"Default bar color #f7d6c5"
          },
          {
            "type":"color",
            "id":"bar-color-complete",
            "label":"Bar complete color",
            "default":"#f7d6c5",
            "info":"Default bar complete color #f7d6c5"
          },
          {
            "type":"range",
            "id":"font-size",
            "label":"Font size (desktop)",
            "min":9,
            "max":45,
            "step":1,
            "default": 14,
            "unit":"px",
            "info":"default size: 14px"
          },
          {
            "type":"range",
            "id":"font-size-mobile",
            "label":"Font size (mobile)",
            "min":9,
            "max":45,
            "step":1,
            "default": 14,
            "unit":"px",
            "info":"default size: 14px"
          },
          {
            "type":"color",
            "id":"font-color",
            "label":"Font color",
            "default":"#3f3f3f",
            "info":"default color: #3f3f3f"
          }
        ]
      },
      {
        "type":"countdown",
        "name": "Countdown",
        "limit": 1,
        "settings":[
          {
            "type":"range",
            "id":"time",
            "label":"Time",
            "default":8,
            "min":1,
            "max":30,
            "step":1,
            "info":"in minutes"
          },
          {
            "type":"text",
            "id":"headline",
            "label":"Headline",
            "default":"LIMITED STOCK!"
          },
          {
            "type":"text",
            "id":"msg",
            "label":"Message",
            "default":"We've saved your cart for",
            "info":"Message before the time countdown.  Example: We've saved your cart for 8:00"
          },
          {
            "type":"color",
            "id":"bg-color",
            "label":"Background color",
            "default":"#f7d6c5",
            "info":"Default background color #f7d6c5"
          },
          {
            "type":"color",
            "id":"font-color",
            "label":"Font color",
            "default":"#535353",
            "info":"default color: #535353"
          },
          {
            "type":"range",
            "id":"font-size-headline",
            "label":"Headline font size (desktop)",
            "min":9,
            "max":45,
            "step":1,
            "default": 18,
            "unit":"px",
            "info":"default size: 18px"
          },
          {
            "type":"range",
            "id":"font-size-mobile-headline",
            "label":"Headline font size (mobile)",
            "min":9,
            "max":45,
            "step":1,
            "default": 18,
            "unit":"px",
            "info":"default size: 18px"
          },
          {
            "type":"range",
            "id":"font-size",
            "label":"Message font size (desktop)",
            "min":9,
            "max":45,
            "step":1,
            "default": 16,
            "unit":"px",
            "info":"default size: 16px"
          },
          {
            "type":"range",
            "id":"font-size-mobile",
            "label":"Message font size (mobile)",
            "min":9,
            "max":45,
            "step":1,
            "default": 16,
            "unit":"px",
            "info":"default size: 16px"
          }
        ]
      },
      {
        "type":"body",
        "name": "Body",
        "limit": 1,
        "settings":[
          {
            "type":"header",
            "content":"Empty cart settings"
          },
          {
            "type":"text",
            "id":"title-empty",
            "label":"headline",
            "default":"Welcome to Saalt!"
          },
          {
            "type":"textarea",
            "id":"content-empty",
            "label":"Content",
            "default":"Your cart is empty"
          },
          {
            "type":"header",
            "content":"Upsell settings"
          },
          {
            "type":"checkbox",
            "id":"active-upsell",
            "label":"Add upsell section",
            "default":false
          },
          {
            "type":"text",
            "id":"title-upsell",
            "label":"Headline",
            "default":"Have you tried these yet?"
          },
          {
            "type":"collection",
            "id":"upsell-collection",
            "label":"Select a collection"
          },
          {
            "type":"range",
            "id":"display",
            "label":"How many upsell items to display",
            "min":1,
            "max":10,
            "step":1,
            "default":6
          },
          {
            "type":"select",
            "id":"desktop-pre-row",
            "label":"Products pre row (desktop)",
            "options":[
              {
                "label":"1",
                "value":"1"
              },
              {
                "label":"2",
                "value":"2"
              },
              {
                "label":"3",
                "value":"3"
              }
            ],
            "default":"3"
          },
          {
            "type":"select",
            "id":"mobile-pre-row",
            "label":"Products pre row (mobile)",
            "options":[
              {
                "label":"1",
                "value":"1"
              },
              {
                "label":"2",
                "value":"2"
              }
            ],
            "default":"2"
          },
          {
            "type":"color",
            "id":"bg-color",
            "label":"Background color",
            "default":"#fafafa",
            "info":"default color: #fafafa"
          },
          {
            "type":"range",
            "id":"font-size-headline",
            "label":"Font size (desktop)",
            "min":9,
            "max":45,
            "step":1,
            "default": 15,
            "unit":"px",
            "info":"default size: 15px"
          },
          {
            "type":"range",
            "id":"font-size-mobile-headline",
            "label":"Font size (mobile)",
            "min":9,
            "max":45,
            "step":1,
            "default": 15,
            "unit":"px",
            "info":"default size: 15px"
          },
          {
            "type":"color",
            "id":"font-color",
            "label":"Font color",
            "default":"#232323",
            "info":"default color: #232323"
          },
          {
            "type":"color",
            "id":"btn-bg-color",
            "label":"Button background color",
            "default":"#f7d6c5"
          },
          {
            "type":"range",
            "id":"font-size-btn",
            "label":"Button font size",
            "min":9,
            "max":25,
            "step":1,
            "default": 16,
            "unit":"px",
            "info":"default size: 16px"
          },
          {
            "type":"color",
            "id":"font-color-btn",
            "label":"Button font color",
            "default":"#3f4759",
            "info":"default color: #3f4759"
          }
        ]
      },
      {
        "type":"footer",
        "name": "Footer",
        "limit": 1,
        "settings":[
          {
            "type":"color",
            "id":"bg-color",
            "label":"Background color",
            "default":"#fff"
          },
          {
            "type":"range",
            "id":"font-size-subtotal",
            "label":"Font size (subtotal row)",
            "min":9,
            "max":25,
            "step":1,
            "default": 13,
            "unit":"px",
            "info":"default size: 13px"
          },
          {
            "type":"color",
            "id":"font-color-subtotal",
            "label":"Font color (subtotal row)",
            "default":"#232323",
            "info":"default color: #232323"
          },
          {
            "type":"color",
            "id":"btn-bg-color",
            "label":"Button background color",
            "default":"#f7d6c5"
          },
          {
            "type":"range",
            "id":"font-size-btn",
            "label":"Button font size",
            "min":9,
            "max":25,
            "step":1,
            "default": 16,
            "unit":"px",
            "info":"default size: 16px"
          },
          {
            "type":"color",
            "id":"font-color-btn",
            "label":"Button font color",
            "default":"#3f4759",
            "info":"default color: #3f4759"
          }
        ]
      },
      {
        "type":"message",
        "name": "Message",
        "limit": 1,
        "settings":[
          {
            "type":"inline_richtext",
            "id":"msg-banner",
            "label":"Message",
            "default":"Save automatically when you bundle Cups, Discs, or Underwear. Save 15% for 3+ items. Save 20% for 5+ items. Save 25% for 7+ items."
          },
          {
            "type":"color",
            "id":"bg-color",
            "label":"Background color",
            "default":"#eee",
            "info":"default color: #eee"
          },
          {
            "type":"range",
            "id":"font-size",
            "label":"Font size",
            "min":9,
            "max":25,
            "step":1,
            "default": 13,
            "unit":"px",
            "info":"default size: 13px"
          },
          {
            "type":"range",
            "id":"line-height",
            "label":"Line height",
            "min":9,
            "max":45,
            "step":1,
            "default": 20,
            "unit":"px",
            "info":"default size: 20px"
          },
          {
            "type":"color",
            "id":"font-color",
            "label":"Font color",
            "default":"#232323",
            "info":"default color: #232323"
          }
        ]
      }
    ],
    "presets": [
      {
        "category": "Footer",
        "name": "CRO Cart Drawer",
        "settings":{},
        "blocks":[
          {
            "type":"header",
            "settings": {
                "title": "YOUR CART"
            }
          },
          {
            "type":"progress-bar",
            "settings":{
              "min":75,
              "msg-default":"Free Shipping on orders over ${amount}!",
              "msg-below": "You are ${amount} away from <strong>FREE SHIPPING</strong>",
              "msg-complete":"Free Shipping Unlocked!"
            }
          },
          {
            "type":"countdown",
            "settings":{
              "time":8,
              "headline":"LIMITED STOCK!",
              "msg":"We've saved your cart for"
            }
          },
          {
            "type":"body",
            "settings":{
              "title-empty":"Welcome to Saalt!",
              "content-empty":"Your cart is empty",
              "title-upsell":"Have you tried these yet?"
            }
          },
          {
            "type":"footer"
          }
        ]
      }
    ],
    "enabled_on": {
      "groups": ["footer"]
    }
  }
{% endschema %}