<script>    
    class cartDrawerBlock extends HTMLElement{
        static observedAttributes = ['data-opened'];
        constructor(){
            super();
        }
        connectedCallback(){
            console.log('slt010-cart-drawer-block added');
            this.addOverlay();
            this.addCloseButton();
        }
        addOverlay(){
            if(this.children.length > 0){
                let $hasOverlay = false;
                for(let $c = 0; $c < this.children.length; $c++){
                    console.log('tagName ' + this.children[$c].tagName);
                    if(this.children[$c].tagName.toLowerCase() === 'slt010-cart-drawer-overlay'){
                        $hasOverlay = true;
                    }
                }
                if(!$hasOverlay){
                    const $overlay = document.createElement('slt010-cart-drawer-overlay');
                    this.appendChild($overlay);
                }
            }
        }
        addCloseButton(){
            
        }
        attributeChangedCallback(name, oldValue, newValue){
            console.log('attribute ' + name + ' has changed from ' + oldValue + ' to ' + newValue);
        }
    }
    customElements.define('slt010-cart-drawer-block', cartDrawerBlock);
</script>