<script>    
    class cartDrawerBlock extends HTMLElement{
        static observedAttributes = ['data-opened'];
        constructor(){
            super();
        }
        connectedCallback(){
            console.log('slt010-cart-drawer-block added');
            this.addOverlay();
            this.addCloseButton();
        }
        addOverlay(){
            if(this.querySelectorAll('slt010-cart-drawer-overlay').length < 1){
                const $overlay = document.createElement('slt010-cart-drawer-overlay');
                this.appendChild($overlay);
            }
        }
        addCloseButton(){
            if(this.querySelectorAll('slt010-cart-drawer-container').length > 0 && this.querySelectorAll('slt010-cart-drawer-close-button') < 1){
                const $container = this.querySelectorAll('slt010-cart-drawer-container');
                const $closeButton = document.createElement('slt010-cart-drawer-close-button');
                $container[0].appendChild($closeButton);
            }
        }
        attributeChangedCallback(name, oldValue, newValue){
            console.log('attribute ' + name + ' has changed from ' + oldValue + ' to ' + newValue);
        }
    }
    customElements.define('slt010-cart-drawer-block', cartDrawerBlock);
</script>